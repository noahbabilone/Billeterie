<?phpnamespace BilleterieBundle\Controller;use Symfony\Bundle\FrameworkBundle\Controller\Controller;use Symfony\Component\HttpFoundation\Request;use Symfony\Component\HttpFoundation\Response;class BilleterieController extends Controller{    public function indexAction()    {        return $this->render('BilleterieBundle:Billeterie:index.html.twig');    }    public function blogAction()    {        return $this->render('BilleterieBundle:Billeterie:post.html.twig');    }    public function postsAction()    {        return $this->render('BilleterieBundle:Billeterie:posts.html.twig');    }    /**     * @param Request $request     * @return response     */    public function sendMailAction(Request $request)    {        if ($request->isXmlHttpRequest()) {            $name = $request->get('name');            $email = $request->get('email');            $subject = $request->get('subject');            $message = $request->get('message');            $reply = "contact@billeterie.fr";            $mail = \Swift_Message::newInstance();                        $recipient = $this->getParameter('sendmail');            $mail                ->setFrom($email)                ->setTo($recipient)                ->setSubject($subject)                ->setBody($message)                ->setReplyTo($reply, $name)                ->setContentType('text / html');            $this->container->get('mailer')->send($mail);            $this->get('mailer')->send($mail);            return new response (json_encode(array('response' => 'success', 'message' => 'Votre message a été envoyé.')));        }        return new response (json_encode(array('response' => 'Error', 'message' => 'No Send')));    }}